# 数学建模可视化决策指南

> **目的**: 快速选择合适的图表类型和风格，让AI生成满意的可视化图像

## 🎯 快速决策树

### 第一步：确定数据类型

```
你的数据是什么类型？
│
├─ 时间序列数据（随时间变化）
│   └─→ 使用折线图、面积图
│
├─ 分类对比数据（多个类别比较）
│   └─→ 使用柱状图、雷达图
│
├─ 相关性数据（变量间关系）
│   └─→ 使用散点图、热力图
│
├─ 分布数据（数据分布情况）
│   └─→ 使用直方图、箱线图、小提琴图
│
├─ 占比数据（部分与整体）
│   └─→ 使用饼图、堆叠图、环形图
│
├─ 网络数据（节点和连接）
│   └─→ 使用网络图、桑基图
│
└─ 地理数据（地理位置）
    └─→ 使用地图、热力地图
```

### 第二步：确定使用场景

```
你要用在哪里？
│
├─ 论文发表
│   ├─ Nature/Science顶级期刊
│   │   └─→ Nature风格（简约、精细、无网格）
│   │
│   ├─ IEEE等工程期刊
│   │   └─→ IEEE风格（衬线字体、较大尺寸）
│   │
│   └─ 一般学术期刊
│       └─→ Science风格（中等尺寸、Arial字体）
│
├─ 比赛提交
│   └─→ 比赛风格（高对比度、清晰标注、300 DPI）
│
├─ 内部汇报
│   └─→ 演示风格（鲜艳配色、较大字体）
│
└─ 数据探索
    └─→ 分析风格（交互式、多维度）
```

### 第三步：确定数据维度

```
你有几个变量？
│
├─ 1个变量（单变量）
│   └─→ 直方图、箱线图、饼图
│
├─ 2个变量（双变量）
│   ├─ 数值+数值 → 散点图、折线图
│   ├─ 分类+数值 → 柱状图、箱线图
│   └─ 时间+数值 → 折线图、面积图
│
├─ 3个变量（三变量）
│   └─→ 气泡图、3D散点图、分组柱状图
│
└─ 多个变量（多维数据）
    └─→ 平行坐标图、雷达图、热力图、PCA降维图
```

## 📊 详细图表选择指南

### 1. 趋势变化类

#### 折线图 (Line Chart)
**最适合**: 时间序列、连续变化、趋势展示

**使用场景**:
- ✅ 股票价格、温度变化
- ✅ 多个算法性能对比
- ✅ 预测结果vs实际值

**推荐风格**:
```python
# 论文风格
style = 'nature'  # Nature期刊风格
color = '#1f77b4'  # 单色或学术配色
linewidth = 1.5
grid = False  # 通常不显示网格

# 比赛风格
style = 'competition'
colors = ['#FF6B6B', '#4ECDC4', '#45B7D1']  # 高对比度
linewidth = 2.0
grid = True  # 显示辅助网格
```

**AI生成提示词**:
```
请生成一条折线图，展示2020-2024年的数据变化趋势。
要求：
- 使用Nature期刊风格
- 蓝色线条（#1f77b4）
- 线宽1.5
- 不显示网格
- X轴：年份（2020-2024）
- Y轴：数值（0-100）
- 图表尺寸：8x5英寸
- 分辨率：300 DPI
```

#### 多条折线图 (Multi-Line Chart)
**最适合**: 多组数据对比、多个算法性能对比

**推荐配置**:
```python
# 论文用（保守配色）
colors = ['#1f77b4', '#ff7f0e', '#2ca02c']  # 学术配色
linestyles = ['-', '--', '-.']

# 比赛用（鲜明配色）
colors = ['#E74C3C', '#3498DB', '#2ECC71']  # 高对比度
markers = ['o', 's', '^']  # 不同标记
```

### 2. 对比分析类

#### 柱状图 (Bar Chart)
**最适合**: 分类数据对比、算法性能排名

**使用场景**:
- ✅ 算法准确率对比
- ✅ 不同方法性能排名
- ✅ 类别统计

**推荐风格**:
```python
# 单组对比
plot_bar_chart(
    categories=['Method A', 'Method B', 'Method C'],
    values=[85, 92, 78],
    color='#1f77b4',  # 统一颜色
    width=0.6
)

# 多组对比（分组柱状图）
plot_grouped_bar_chart(
    categories=['Dataset1', 'Dataset2', 'Dataset3'],
    values_list=[[85, 90, 88], [78, 85, 82], [92, 88, 95]],
    labels=['Method 1', 'Method 2', 'Method 3'],
    colors=['#1f77b4', '#ff7f0e', '#2ca02c']
)
```

#### 雷达图 (Radar Chart)
**最适合**: 多维度性能对比、综合评价

**使用场景**:
- ✅ 算法多指标对比
- ✅ 综合性能评估
- ✅ 优势分析

**推荐配置**:
```python
# 5-7个维度最佳
dimensions = ['Accuracy', 'Speed', 'Robustness', 'Scalability', 'Interpretability']
values = [0.9, 0.7, 0.85, 0.8, 0.75]

# 填充区域，半透明
fill=True
alpha=0.25
```

### 3. 相关性分析类

#### 散点图 (Scatter Plot)
**最适合**: 两个连续变量的关系、相关性分析

**使用场景**:
- ✅ 特征相关性
- ✅ 预测vs实际
- ✅ 聚类结果展示

**推荐风格**:
```python
# 论文用
color='#1f77b4'
marker='o'
markersize=20
alpha=0.6  # 半透明，显示重叠

# 比赛用（带颜色编码）
colors=['red', 'blue', 'green']  # 按类别着色
cmap='viridis'  # 使用颜色映射
```

#### 热力图 (Heatmap)
**最适合**: 相关性矩阵、二维数据密度

**使用场景**:
- ✅ 特征相关性矩阵
- ✅ 混淆矩阵
- ✅ 二维函数值

**推荐配置**:
```python
# 相关性矩阵
cmap='RdYlBu_r'  # 红-黄-蓝配色
center=0  # 中心值为0
annot=True  # 显示数值
fmt='.2f'  # 两位小数

# 一般数据
cmap='viridis'  # 紫-黄配色
annot=False
```

### 4. 分布分析类

#### 直方图 (Histogram)
**最适合**: 单变量分布、频率统计

**推荐配置**:
```python
bins=30  # 30个柱子
density=True  # 显示概率密度
alpha=0.7  # 半透明
edgecolor='white'  # 白色边框
```

#### 箱线图 (Box Plot)
**最适合**: 多组分布对比、异常值检测

**推荐配置**:
```python
showmeans=True  # 显示均值
showfliers=True  # 显示异常值
notch=True  # 显示置信区间
```

### 5. 占比分析类

#### 饼图 (Pie Chart)
**最适合**: 少量类别（<5个）的占比

**注意**: ⚠️ 论文中慎用，比赛可以使用

**推荐配置**:
```python
autopct='%1.1f%%'  # 显示百分比
startangle=90  # 从12点方向开始
colors=['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A']
```

#### 堆叠柱状图 (Stacked Bar)
**最适合**: 多部分占比随时间变化

**推荐配置**:
```python
# 3-4个部分最佳
colors=['#1f77b4', '#ff7f0e', '#2ca02c']
alpha=0.8
edgecolor='white'
linewidth=0.5
```

## 🎨 风格配置速查表

### Nature 期刊风格
```python
style_config = {
    'figsize': (3.5, 2.5),      # 单栏图尺寸
    'dpi': 600,                  # 超高分辨率
    'font.family': 'Arial',
    'font.size': 6,
    'linewidth': 1.0,
    'grid': False,               # 无网格
    'colors': ['#1f77b4', '#ff7f0e', '#2ca02c'],  # 保守配色
}
```

### Science 期刊风格
```python
style_config = {
    'figsize': (3.3, 2.5),
    'dpi': 300,
    'font.family': 'Arial',
    'font.size': 7,
    'linewidth': 1.2,
    'grid': False,
}
```

### 比赛风格
```python
style_config = {
    'figsize': (10, 6),          # 较大尺寸
    'dpi': 300,
    'font.size': 12,             # 较大字体
    'linewidth': 2.0,            # 较粗线条
    'grid': True,                # 显示网格
    'colors': ['#E74C3C', '#3498DB', '#2ECC71', '#F39C12'],  # 高对比度
}
```

### 演示汇报风格
```python
style_config = {
    'figsize': (12, 7),          # 大尺寸
    'dpi': 150,                  # 较低DPI（文件小）
    'font.size': 14,
    'linewidth': 2.5,
    'grid': True,
    'colors': ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8'],  # 鲜艳配色
}
```

## 🤖 AI提示词模板库

### 模板1：基础折线图
```
请帮我生成一个折线图，要求：

【数据】
X轴：[2020, 2021, 2022, 2023, 2024]
Y轴：[100, 120, 115, 140, 160]

【样式要求】
- 风格：Nature期刊风格
- 颜色：蓝色（#1f77b4）
- 线宽：1.5
- 网格：不显示
- 尺寸：8x5英寸
- 分辨率：300 DPI

【标注要求】
- 标题："Annual Revenue Growth"
- X轴标签："Year"
- Y轴标签："Revenue (million $)"
- 保存路径："figures/revenue_growth.png"
```

### 模板2：分组柱状图
```
请生成一个分组柱状图，对比3个算法在4个数据集上的性能：

【数据】
数据集：[Dataset A, Dataset B, Dataset C, Dataset D]
算法1准确率：[85.3, 88.7, 82.1, 90.5]
算法2准确率：[82.5, 86.3, 84.7, 87.9]
算法3准确率：[87.9, 84.2, 88.5, 86.3]

【样式要求】
- 风格：比赛提交风格
- 柱子宽度：0.25
- 配色：红色、蓝色、绿色（高对比度）
- 显示网格：是
- 图例位置：右上角
- 尺寸：10x6英寸

【标注要求】
- 标题："Algorithm Performance Comparison"
- 每个柱子上显示数值（保留1位小数）
```

### 模板3：相关性矩阵热力图
```
请生成一个相关性矩阵热力图：

【数据】
5个特征的相关性矩阵（5x5）
特征名：['Age', 'Income', 'Score', 'Experience', 'Performance']

【样式要求】
- 配色：RdYlBu_r（红-黄-蓝）
- 中心值：0
- 显示数值：是（保留2位小数）
- 线宽：0.5
- 线色：白色
- 尺寸：6x5英寸

【标注要求】
- 标题："Feature Correlation Matrix"
```

### 模板4：多条折线图（带置信区间）
```
请生成一个带置信区间的折线图：

【数据】
X轴：0到100，步长1
均值线：sin(x)函数
置信区间：均值±0.2

【样式要求】
- 风格：Science期刊风格
- 均值线：蓝色，实线，线宽2
- 置信区间：蓝色，半透明（alpha=0.3）
- 无网格
- 尺寸：8x5英寸

【标注要求】
- 标题："Prediction with Confidence Interval"
- 图例：显示"Mean"和"95% CI"
```

## 📋 常见场景速查

| 场景 | 推荐图表 | 推荐风格 | 页码参考 |
|------|---------|---------|---------|
| 算法性能对比 | 分组柱状图 | 比赛风格 | Figure 1 |
| 时间序列预测 | 折线图 | Nature风格 | Figure 2 |
| 特征相关性 | 热力图 | Science风格 | Figure 3 |
| 多维数据对比 | 雷达图 | 比赛风格 | Figure 4 |
| 预测vs实际 | 散点图+对角线 | Nature风格 | Figure 5 |
| 数据分布 | 直方图/箱线图 | Science风格 | Figure 6 |
| 占比变化 | 堆叠面积图 | 比赛风格 | Figure 7 |
| 综合结果展示 | 多面板图 | Nature风格 | Figure 8 |

## 💡 最佳实践

### DO ✅
- ✅ 保持同一论文中图表风格统一
- ✅ 使用高对比度配色（特别是比赛）
- ✅ 图表标题和坐标轴标签清晰完整
- ✅ 图例位置不遮挡数据
- ✅ 分辨率至少300 DPI
- ✅ 字体大小适中（8-12pt）

### DON'T ❌
- ❌ 使用过于鲜艳的配色（论文中）
- ❌ 图表过于拥挤
- ❌ 缺少必要的标注
- ❌ 使用3D效果（除非必要）
- ❌ 饼图超过5个类别
- ❌ 颜色区分不明确

## 🎯 根据你的需求定制

### 如果你要...
**发表论文**: 使用 `Nature` 或 `Science` 风格模板
**参加比赛**: 使用 `比赛` 风格模板
**内部汇报**: 使用 `演示` 风格模板
**探索数据**: 使用交互式图表

### 如果你关注...
**美观**: 选择 `Seaborn` 风格，柔和配色
**清晰**: 选择 `Matlab` 风格，高对比度
**简洁**: 选择 `Nature` 风格，极简设计
**专业**: 选择 `IEEE` 风格，衬线字体

---

**快速开始**: 告诉AI你的需求和偏好，使用上述模板！
